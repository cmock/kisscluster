see https://www.tahina.priv.at/kisscluster.html

this is the HA daemon.

Usage:

keepalived -c configfile [-v]

-v is for verbose.

should be run under an unprivileged account.

Sadly only for linux, due to the dependency on iproute2.

Also: v4 only. Yes, 2016, but KISS.

Requirements:

Perl
Config::Tiny
Sys::Syslog
IO::Socket::INET
IO::Select
Digest::SHA

iproute2
fping

I use iproute2 because there seems to be no perl module that can
return *all* IP addressess on a system, they only return the first
address on an interface.

Similiarily, fping is used because I found no perl module that can
ping without root and with a timeout; and because fping, as opposed to
"ping", has a consistent commandline syntax.


---

some notes on migration:

drbdadm net-options --protocol=C --allow-two-primaries <resource>

drbdadm primary auf beiden

start on B with added params:
-incoming tcp:0:port

in monitor:

migrate -d tcp:remote-addr:port

status:

info migrate

zum schlu√ü


drbdadm net-options --protocol=C <resource>
